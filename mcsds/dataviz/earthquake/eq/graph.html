<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.0/d3.js"></script>
    <script src="https://unpkg.com/topojson-client@3"></script>

</head>
<body>

<script>
    // Setup the svg element size and margins
    var margin = {top: 20, right: 20, bottom: 20, left: 20},
        width = 1000 - margin.left - margin.right,
        height = 700 - margin.top - margin.bottom;
    var svg = d3.select("body").append("svg")
        .attr("width", width)
        .attr("height", height)

    d3.csv('https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_day.csv', function(error, eqcsv){
        if (error) throw error;
 //       });
//    d3.json('https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_day.geojson', function(error, earthquakes) {
 //       if (error) throw error;
    console.log(eqcsv)
    var nest = d3.nest()
        .key(function(d) { return d.type })
        .rollup(function(values) { return values.length; })
        .entries(eqcsv);

    console.log(nest);

    });


</script>
</body>
</html>